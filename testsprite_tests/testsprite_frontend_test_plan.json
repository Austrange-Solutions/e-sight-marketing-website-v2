[
  {
    "id": "TC006",
    "title": "Donation Form - Valid Data Submission",
    "description": "Test donation form with all valid inputs including name, email, amount, foundation selection, and address fields",
    "category": "functional",
    "priority": "Critical",
    "viewport": "1280x720",
    "networkCondition": "4g",
    "steps": [
      {"type": "action", "description": "Navigate to /donate page"},
      {"type": "action", "description": "Fill donor name: 'John Doe'"},
      {"type": "action", "description": "Fill email: 'john.doe@example.com'"},
      {"type": "action", "description": "Fill phone: '+919876543210'"},
      {"type": "action", "description": "Fill donation amount: '5000'"},
      {"type": "action", "description": "Select foundation: 'VSF'"},
      {"type": "action", "description": "Fill address fields"},
      {"type": "action", "description": "Click 'Donate Now' button"},
      {"type": "assertion", "description": "Verify form validation passes"},
      {"type": "assertion", "description": "Verify Cashfree payment modal opens"},
      {"type": "assertion", "description": "Verify order amount matches donation amount"}
    ]
  },
  {
    "id": "TC018",
    "title": "Checkout - Complete Order Flow",
    "description": "Test end-to-end checkout: cart review, address entry, order placement, payment",
    "category": "functional",
    "priority": "Critical",
    "viewport": "1280x720",
    "networkCondition": "4g",
    "steps": [
      {"type": "action", "description": "Add products to cart"},
      {"type": "action", "description": "Go to cart and click 'Proceed to Checkout'"},
      {"type": "assertion", "description": "Verify checkout page loads with cart summary"},
      {"type": "action", "description": "Fill shipping address"},
      {"type": "action", "description": "Fill billing details"},
      {"type": "action", "description": "Review order summary"},
      {"type": "assertion", "description": "Verify subtotal, tax, shipping calculated correctly"},
      {"type": "action", "description": "Click 'Place Order'"},
      {"type": "assertion", "description": "Verify order created with unique order ID"},
      {"type": "action", "description": "Proceed to payment"},
      {"type": "assertion", "description": "Verify payment gateway opens"}
    ]
  },
  {
    "id": "TC034",
    "title": "Payment Gateway - Cashfree Order Creation",
    "description": "Test Cashfree order creation with correct amount, currency, customer details",
    "category": "functional",
    "priority": "Critical",
    "viewport": "1280x720",
    "networkCondition": "4g",
    "steps": [
      {"type": "action", "description": "Go to donate page"},
      {"type": "action", "description": "Fill donation form"},
      {"type": "action", "description": "Click 'Donate Now'"},
      {"type": "action", "description": "Intercept network call to /api/donate/create"},
      {"type": "assertion", "description": "Verify request contains correct amount"},
      {"type": "assertion", "description": "Verify customer details included"},
      {"type": "assertion", "description": "Verify foundation code passed"},
      {"type": "assertion", "description": "Verify response contains payment_session_id"},
      {"type": "assertion", "description": "Verify Cashfree SDK loads"},
      {"type": "assertion", "description": "Verify checkout modal opens with correct amount"}
    ]
  },
  {
    "id": "TC035",
    "title": "Payment - Signature Verification Security",
    "description": "Test payment verification endpoint rejects invalid/tampered signatures",
    "category": "security",
    "priority": "Critical",
    "viewport": "1280x720",
    "networkCondition": "4g",
    "steps": [
      {"type": "action", "description": "Create donation order"},
      {"type": "action", "description": "Simulate payment callback with INVALID signature"},
      {"type": "action", "description": "Call /api/donate/verify"},
      {"type": "assertion", "description": "Verify 400 error: 'Invalid signature'"},
      {"type": "assertion", "description": "Verify donation status NOT updated to 'completed'"},
      {"type": "action", "description": "Simulate callback with tampered amount"},
      {"type": "assertion", "description": "Verify signature verification fails"},
      {"type": "action", "description": "Simulate valid signature"},
      {"type": "assertion", "description": "Verify donation marked completed"}
    ]
  },
  {
    "id": "TC050",
    "title": "End-to-End - Complete User Journey",
    "description": "Full user flow: Browse products → Add to cart → Checkout → Make donation → Verify order tracking",
    "category": "e2e",
    "priority": "Critical",
    "viewport": "1280x720",
    "networkCondition": "4g",
    "steps": [
      {"type": "action", "description": "User arrives on homepage"},
      {"type": "action", "description": "Browse products, view details"},
      {"type": "action", "description": "Add 2 products to cart"},
      {"type": "assertion", "description": "Verify cart shows 2 items"},
      {"type": "action", "description": "Proceed to checkout"},
      {"type": "action", "description": "Fill shipping address"},
      {"type": "action", "description": "Place order"},
      {"type": "assertion", "description": "Verify order created with order ID"},
      {"type": "action", "description": "Navigate to donation page"},
      {"type": "action", "description": "Fill donation form"},
      {"type": "action", "description": "Complete donation payment"},
      {"type": "assertion", "description": "Verify donation success page"},
      {"type": "action", "description": "Check user profile"},
      {"type": "assertion", "description": "Verify order appears in order history"},
      {"type": "action", "description": "Admin checks dashboard"},
      {"type": "assertion", "description": "Verify order and donation both recorded"},
      {"type": "action", "description": "User logs out"},
      {"type": "assertion", "description": "Verify redirected to login"}
    ]
  },
  {
    "id": "TC001",
    "title": "Homepage Responsive Design - Mobile 320px",
    "description": "Verify homepage renders correctly on smallest mobile device (iPhone SE 320px width) with proper element stacking, readable text, and functional navigation",
    "category": "responsive",
    "priority": "Critical",
    "viewport": "320x568",
    "networkCondition": "fast3g",
    "steps": [
      {"type": "action", "description": "Set viewport to 320x568 (iPhone SE)"},
      {"type": "action", "description": "Navigate to homepage http://localhost:3000"},
      {"type": "assertion", "description": "Verify hamburger menu is visible"},
      {"type": "assertion", "description": "Verify hero section text is readable and not truncated"},
      {"type": "assertion", "description": "Verify all images load within 3 seconds"},
      {"type": "assertion", "description": "Verify CTA buttons are fully visible and clickable"},
      {"type": "action", "description": "Scroll to footer"},
      {"type": "assertion", "description": "Verify footer content is properly stacked"}
    ]
  },
  {
    "id": "TC007",
    "title": "Donation Form - Garbage Value Testing (Name Field)",
    "description": "Test name field with invalid characters, special symbols, extremely long strings, SQL injection attempts",
    "category": "security",
    "priority": "Critical",
    "viewport": "1280x720",
    "networkCondition": "4g",
    "steps": [
      {"type": "action", "description": "Navigate to donation form"},
      {"type": "action", "description": "Enter name: '<script>alert(1)</script>'"},
      {"type": "assertion", "description": "Verify XSS is prevented, input sanitized"},
      {"type": "action", "description": "Clear field and enter: 'John' + 'A'*500 (very long string)"},
      {"type": "assertion", "description": "Verify field has max-length validation"},
      {"type": "action", "description": "Enter: '1234567890' (only numbers)"},
      {"type": "assertion", "description": "Verify error message for invalid name format"},
      {"type": "action", "description": "Enter: '!@#$%^&*()' (special chars)"},
      {"type": "assertion", "description": "Verify validation blocks special characters"},
      {"type": "action", "description": "Enter: 'OR 1=1; DROP TABLE donations;--'"},
      {"type": "assertion", "description": "Verify SQL injection is prevented"}
    ]
  },
  {
    "id": "TC009",
    "title": "Donation Form - Amount Boundary Testing",
    "description": "Test donation amount with negative, zero, decimal, extremely large values, non-numeric input",
    "category": "validation",
    "priority": "Critical",
    "viewport": "1280x720",
    "networkCondition": "4g",
    "steps": [
      {"type": "action", "description": "Enter amount: '-100'"},
      {"type": "assertion", "description": "Verify error: 'Amount must be positive'"},
      {"type": "action", "description": "Enter: '0'"},
      {"type": "assertion", "description": "Verify minimum amount validation (should be >= 1)"},
      {"type": "action", "description": "Enter: '0.5' (less than 1 rupee)"},
      {"type": "assertion", "description": "Verify minimum amount error"},
      {"type": "action", "description": "Enter: '99999999999999' (very large)"},
      {"type": "assertion", "description": "Verify max amount validation or acceptance"},
      {"type": "action", "description": "Enter: 'abc123' (alphanumeric)"},
      {"type": "assertion", "description": "Verify non-numeric input blocked"},
      {"type": "action", "description": "Enter: '100.567' (many decimals)"},
      {"type": "assertion", "description": "Verify rounded to 2 decimal places"}
    ]
  },
  {
    "id": "TC013",
    "title": "Admin Login - CRUD Operations on Users",
    "description": "Test admin user management: Create, Read, Update, Delete user accounts with validation",
    "category": "functional",
    "priority": "Critical",
    "viewport": "1280x720",
    "networkCondition": "4g",
    "steps": [
      {"type": "action", "description": "Login to admin panel with valid credentials"},
      {"type": "action", "description": "Navigate to Users Management tab"},
      {"type": "assertion", "description": "Verify users list loads with pagination"},
      {"type": "action", "description": "Click 'Add New User' button"},
      {"type": "action", "description": "Fill user form with valid data"},
      {"type": "action", "description": "Submit form"},
      {"type": "assertion", "description": "Verify user created successfully"},
      {"type": "action", "description": "Search for newly created user"},
      {"type": "assertion", "description": "Verify user appears in list"},
      {"type": "action", "description": "Click edit button"},
      {"type": "action", "description": "Update user email"},
      {"type": "action", "description": "Save changes"},
      {"type": "assertion", "description": "Verify update successful"},
      {"type": "action", "description": "Click delete button"},
      {"type": "action", "description": "Confirm deletion"},
      {"type": "assertion", "description": "Verify user removed from list"}
    ]
  },
  {
    "id": "TC014",
    "title": "Admin Products - CRUD with Image Upload",
    "description": "Test product management: Create product with images, update details, delete products",
    "category": "functional",
    "priority": "Critical",
    "viewport": "1280x720",
    "networkCondition": "4g",
    "steps": [
      {"type": "action", "description": "Login to admin and go to Products tab"},
      {"type": "action", "description": "Click 'Add Product'"},
      {"type": "action", "description": "Fill product name, description, price, stock"},
      {"type": "action", "description": "Upload product image (JPEG < 5MB)"},
      {"type": "assertion", "description": "Verify image preview shows"},
      {"type": "action", "description": "Submit form"},
      {"type": "assertion", "description": "Verify product created with S3 image URL"},
      {"type": "action", "description": "Find product in list"},
      {"type": "action", "description": "Click edit, change price"},
      {"type": "action", "description": "Save"},
      {"type": "assertion", "description": "Verify price updated"},
      {"type": "action", "description": "Delete product"},
      {"type": "assertion", "description": "Verify product deleted"}
    ]
  },
  {
    "id": "TC016",
    "title": "Cart Functionality - Add/Remove/Update Quantity",
    "description": "Test shopping cart CRUD operations: add products, update quantities, remove items, calculate totals",
    "category": "functional",
    "priority": "Critical",
    "viewport": "1280x720",
    "networkCondition": "4g",
    "steps": [
      {"type": "action", "description": "Navigate to Products page"},
      {"type": "action", "description": "Click 'Add to Cart' on product 1"},
      {"type": "assertion", "description": "Verify cart icon badge shows '1'"},
      {"type": "action", "description": "Click cart icon"},
      {"type": "assertion", "description": "Verify product appears in cart"},
      {"type": "action", "description": "Increase quantity to 5"},
      {"type": "assertion", "description": "Verify total price updates correctly"},
      {"type": "action", "description": "Add another product"},
      {"type": "assertion", "description": "Verify cart count is now 2 items"},
      {"type": "action", "description": "Remove first product"},
      {"type": "assertion", "description": "Verify product removed and total recalculated"},
      {"type": "action", "description": "Clear entire cart"},
      {"type": "assertion", "description": "Verify cart is empty"}
    ]
  },
  {
    "id": "TC020",
    "title": "Foundation Settings - Update Percentage Split",
    "description": "Test admin updating foundation fee percentages, verify calculations update correctly",
    "category": "functional",
    "priority": "Critical",
    "viewport": "1280x720",
    "networkCondition": "4g",
    "steps": [
      {"type": "action", "description": "Login as admin"},
      {"type": "action", "description": "Navigate to Foundation Settings"},
      {"type": "assertion", "description": "Verify current VSF and CF percentages displayed"},
      {"type": "action", "description": "Update platform fee from 5% to 7%"},
      {"type": "action", "description": "Update foundation share from 70% to 65%"},
      {"type": "action", "description": "Save changes"},
      {"type": "assertion", "description": "Verify success message"},
      {"type": "action", "description": "Make a test donation"},
      {"type": "assertion", "description": "Verify new percentages applied in breakdown"},
      {"type": "action", "description": "Check admin dashboard"},
      {"type": "assertion", "description": "Verify donation stats reflect new split"}
    ]
  },
  {
    "id": "TC032",
    "title": "Admin Middleware - Unauthorized Access Prevention",
    "description": "Verify non-admin users cannot access admin routes, proper redirects",
    "category": "security",
    "priority": "Critical",
    "viewport": "1280x720",
    "networkCondition": "4g",
    "steps": [
      {"type": "action", "description": "Logout if logged in"},
      {"type": "action", "description": "Try accessing /admin/dashboard directly"},
      {"type": "assertion", "description": "Verify redirect to /admin/login"},
      {"type": "action", "description": "Login as regular user (non-admin)"},
      {"type": "action", "description": "Try accessing /admin/dashboard"},
      {"type": "assertion", "description": "Verify 401 Unauthorized or redirect"},
      {"type": "action", "description": "Try accessing /api/admin/donations"},
      {"type": "assertion", "description": "Verify 401 response"},
      {"type": "action", "description": "Logout and login as admin"},
      {"type": "assertion", "description": "Verify admin dashboard accessible"}
    ]
  },
  {
    "id": "TC046",
    "title": "Data Integrity - Donation Breakdown Calculation",
    "description": "Verify donation fee split calculation is accurate with edge case amounts",
    "category": "functional",
    "priority": "Critical",
    "viewport": "1280x720",
    "networkCondition": "4g",
    "steps": [
      {"type": "action", "description": "Admin set: Platform Fee 5%, Foundation 70%, Company 25%"},
      {"type": "action", "description": "Make donation of ₹1000"},
      {"type": "assertion", "description": "Verify platform fee = ₹50 (5% of 1000)"},
      {"type": "assertion", "description": "Verify afterPlatformFee = ₹950"},
      {"type": "assertion", "description": "Verify foundationAmount = ₹665 (70% of 950)"},
      {"type": "assertion", "description": "Verify companyAmount = ₹285 (30% of 950)"},
      {"type": "action", "description": "Make donation of ₹1"},
      {"type": "assertion", "description": "Verify rounding to nearest paise"},
      {"type": "action", "description": "Make donation of ₹99999.99"},
      {"type": "assertion", "description": "Verify large amount calculation accurate"}
    ]
  },
  {
    "id": "TC053",
    "title": "API Direct Testing - Donation Endpoint",
    "description": "Test /api/donate/create endpoint directly with Postman/curl for API validation",
    "category": "api",
    "priority": "Critical",
    "viewport": "1280x720",
    "networkCondition": "4g",
    "steps": [
      {"type": "action", "description": "Send POST to /api/donate/create with valid payload"},
      {"type": "assertion", "description": "Verify 200 status and payment_session_id returned"},
      {"type": "action", "description": "Send request without authentication"},
      {"type": "assertion", "description": "Verify 401 Unauthorized if required"},
      {"type": "action", "description": "Send malformed JSON payload"},
      {"type": "assertion", "description": "Verify 400 Bad Request with error message"},
      {"type": "action", "description": "Send SQL injection in payload"},
      {"type": "assertion", "description": "Verify input sanitization at API level"},
      {"type": "action", "description": "Check response headers"},
      {"type": "assertion", "description": "Verify CORS headers present"}
    ]
  },
  {
    "id": "TC054",
    "title": "API Testing - Admin Endpoints Authorization",
    "description": "Test all admin API endpoints require proper admin token authorization",
    "category": "security",
    "priority": "Critical",
    "viewport": "1280x720",
    "networkCondition": "4g",
    "steps": [
      {"type": "action", "description": "Call /api/admin/users without token"},
      {"type": "assertion", "description": "Verify 401 Unauthorized"},
      {"type": "action", "description": "Call with regular user token (non-admin)"},
      {"type": "assertion", "description": "Verify 403 Forbidden"},
      {"type": "action", "description": "Call with expired admin token"},
      {"type": "assertion", "description": "Verify 401 and redirect to login"},
      {"type": "action", "description": "Call with valid admin token"},
      {"type": "assertion", "description": "Verify 200 and data returned"}
    ]
  },
  {
    "id": "TC055",
    "title": "HTTPS & SSL Certificate Validation",
    "description": "Verify site enforces HTTPS, valid SSL certificate, no mixed content warnings",
    "category": "security",
    "priority": "Critical",
    "viewport": "1280x720",
    "networkCondition": "4g",
    "steps": [
      {"type": "action", "description": "Try accessing http://maceazy.com"},
      {"type": "assertion", "description": "Verify auto-redirect to https://"},
      {"type": "action", "description": "Check SSL certificate"},
      {"type": "assertion", "description": "Verify valid certificate (not expired)"},
      {"type": "assertion", "description": "Verify certificate issued by trusted CA"},
      {"type": "action", "description": "Open browser console"},
      {"type": "assertion", "description": "Verify no mixed content warnings"},
      {"type": "assertion", "description": "Verify all resources load via HTTPS"}
    ]
  },
  {
    "id": "TC061",
    "title": "Email Delivery - Donation Receipt Email",
    "description": "Verify transactional email sent after successful donation with correct details",
    "category": "functional",
    "priority": "Critical",
    "viewport": "1280x720",
    "networkCondition": "4g",
    "steps": [
      {"type": "action", "description": "Complete donation successfully"},
      {"type": "action", "description": "Check email inbox (use test email)"},
      {"type": "assertion", "description": "Verify donation receipt email received within 1 minute"},
      {"type": "assertion", "description": "Verify email contains correct donation amount"},
      {"type": "assertion", "description": "Verify foundation name mentioned"},
      {"type": "assertion", "description": "Verify transaction ID present"},
      {"type": "assertion", "description": "Verify email is HTML formatted (not plain text)"},
      {"type": "assertion", "description": "Verify no broken images in email"},
      {"type": "action", "description": "Check spam folder if not in inbox"},
      {"type": "assertion", "description": "Verify SPF/DKIM records configured (not marked spam)"}
    ]
  },
  {
    "id": "TC065",
    "title": "User Registration - Email Verification",
    "description": "Test new user must verify email before accessing protected features",
    "category": "security",
    "priority": "Critical",
    "viewport": "1280x720",
    "networkCondition": "4g",
    "steps": [
      {"type": "action", "description": "Register new user account"},
      {"type": "assertion", "description": "Verify success message: 'Verification email sent'"},
      {"type": "action", "description": "Try logging in before verification"},
      {"type": "assertion", "description": "Verify error: 'Please verify email first'"},
      {"type": "action", "description": "Check email inbox"},
      {"type": "assertion", "description": "Verify verification email received"},
      {"type": "action", "description": "Click verification link"},
      {"type": "assertion", "description": "Verify 'Email verified successfully'"},
      {"type": "action", "description": "Login now"},
      {"type": "assertion", "description": "Verify login successful"}
    ]
  },
  {
    "id": "TC073",
    "title": "Payment Idempotency - Retry Handling",
    "description": "Test duplicate payment requests handled correctly (no double charging)",
    "category": "security",
    "priority": "Critical",
    "viewport": "1280x720",
    "networkCondition": "4g",
    "steps": [
      {"type": "action", "description": "Create donation order"},
      {"type": "action", "description": "Note order_id from response"},
      {"type": "action", "description": "Submit payment verification with same order_id twice"},
      {"type": "assertion", "description": "Verify second request returns idempotent response"},
      {"type": "assertion", "description": "Verify donation only created once in database"},
      {"type": "assertion", "description": "Verify user not charged twice"},
      {"type": "action", "description": "Check admin panel"},
      {"type": "assertion", "description": "Verify only one donation record exists"}
    ]
  },
  {
    "id": "TC074",
    "title": "Payment Webhook - Cashfree Callback Handling",
    "description": "Test server handles Cashfree payment webhooks correctly for async updates",
    "category": "functional",
    "priority": "Critical",
    "viewport": "1280x720",
    "networkCondition": "4g",
    "steps": [
      {"type": "action", "description": "Simulate Cashfree webhook POST to /api/webhooks/cashfree"},
      {"type": "action", "description": "Send 'PAYMENT_SUCCESS' event payload"},
      {"type": "assertion", "description": "Verify webhook signature validated"},
      {"type": "assertion", "description": "Verify donation status updated to 'completed'"},
      {"type": "assertion", "description": "Verify email triggered to donor"},
      {"type": "action", "description": "Send duplicate webhook (replay attack)"},
      {"type": "assertion", "description": "Verify idempotency - no duplicate processing"},
      {"type": "action", "description": "Send webhook with invalid signature"},
      {"type": "assertion", "description": "Verify rejected with 401"}
    ]
  },
  {
    "id": "TC075",
    "title": "Transaction Rollback - Failed Payment Recovery",
    "description": "Test database transaction rolls back if payment fails mid-process",
    "category": "functional",
    "priority": "Critical",
    "viewport": "1280x720",
    "networkCondition": "4g",
    "steps": [
      {"type": "action", "description": "Start donation order creation"},
      {"type": "action", "description": "Simulate payment gateway failure during process"},
      {"type": "assertion", "description": "Verify donation status set to 'failed'"},
      {"type": "assertion", "description": "Verify no money deducted from user"},
      {"type": "action", "description": "Check database"},
      {"type": "assertion", "description": "Verify incomplete transaction rolled back"},
      {"type": "assertion", "description": "Verify no orphaned records in database"},
      {"type": "action", "description": "User retries donation"},
      {"type": "assertion", "description": "Verify new order created (not reusing failed one)"}
    ]
  },
  {
    "id": "TC082",
    "title": "OWASP WSTG-ERRH - Error Information Disclosure Prevention",
    "description": "Security testing to ensure error messages don't expose sensitive system information, stack traces, database schema details, or internal server paths. Tests intentional error triggering to validate that production error handling is secure and doesn't leak information useful to attackers. Reference: OWASP WSTG-ERRH-01 & ERRH-02. Validates compliance with OWASP ASVS v5.0-7.4 (Error Handling). Critical for preventing reconnaissance attacks.",
    "category": "security",
    "priority": "Critical",
    "viewport": "1280x720",
    "networkCondition": "4g",
    "owaspCategory": "WSTG-ERRH",
    "steps": [
      {"type": "action", "description": "Trigger 500 Internal Server Error by sending malformed JSON to API"},
      {"type": "assertion", "description": "Verify response contains generic error message only"},
      {"type": "assertion", "description": "Verify NO stack trace exposed in response body or headers"},
      {"type": "action", "description": "Submit SQL query syntax in form field"},
      {"type": "assertion", "description": "Verify NO database error messages (MySQL, PostgreSQL, MongoDB)"},
      {"type": "action", "description": "Access non-existent API endpoint /api/admin/secret"},
      {"type": "assertion", "description": "Verify 404 response doesn't reveal technology stack"},
      {"type": "action", "description": "Trigger application exception by invalid file upload"},
      {"type": "assertion", "description": "Verify NO server-side file paths exposed"},
      {"type": "action", "description": "Check browser DevTools Console for errors"},
      {"type": "assertion", "description": "Verify NO sensitive environment variables logged"},
      {"type": "action", "description": "Test authentication failure error messages"},
      {"type": "assertion", "description": "Verify error doesn't reveal if username exists (timing attack prevention)"},
      {"type": "action", "description": "Review error logs on server (admin access required)"},
      {"type": "assertion", "description": "Verify detailed errors logged server-side but NOT sent to client"}
    ]
  },
  {
    "id": "TC092",
    "title": "OWASP Top 10 - Server-Side Request Forgery (SSRF) Prevention",
    "description": "Tests for SSRF vulnerabilities where attacker tricks server into making requests to internal resources or external services on their behalf. Common attack vectors: webhook URLs, image fetch URLs, PDF generators, and API integrations. Validates input validation on URLs, allowlist restrictions, and network segmentation. Reference: OWASP Top 10 2021 #10 - Server-Side Request Forgery. Critical for cloud deployments accessing metadata endpoints.",
    "category": "security",
    "priority": "Critical",
    "viewport": "1280x720",
    "networkCondition": "4g",
    "owaspRank": "10",
    "steps": [
      {"type": "action", "description": "Find features that fetch external URLs (webhooks, image imports)"},
      {"type": "action", "description": "Submit URL pointing to internal network: http://169.254.169.254/ (AWS metadata)"},
      {"type": "assertion", "description": "Verify request rejected with 'Invalid URL' error"},
      {"type": "action", "description": "Try localhost URLs: http://localhost:27017, http://127.0.0.1:3306"},
      {"type": "assertion", "description": "Verify all localhost/127.0.0.1 URLs blocked"},
      {"type": "action", "description": "Test private IP ranges: http://192.168.1.1, http://10.0.0.1"},
      {"type": "assertion", "description": "Verify private IP addresses rejected"},
      {"type": "action", "description": "Try DNS rebinding attack with custom domain resolving to internal IP"},
      {"type": "assertion", "description": "Verify application validates resolved IP, not just initial URL"},
      {"type": "action", "description": "Submit URL with redirect to internal resource"},
      {"type": "assertion", "description": "Verify application doesn't follow redirects to internal IPs"},
      {"type": "action", "description": "Test file:// protocol URL"},
      {"type": "assertion", "description": "Verify only http:// and https:// protocols allowed"},
      {"type": "action", "description": "Check if webhook endpoints validate destination"},
      {"type": "assertion", "description": "Verify webhook URLs restricted to allowlist domains"},
      {"type": "action", "description": "Review server-side code for URL fetch logic"},
      {"type": "assertion", "description": "Verify network segmentation prevents access to internal services"}
    ]
  },
  {
    "id": "TC100",
    "title": "End-to-End Smoke Test Suite - Critical Path Validation",
    "description": "Comprehensive smoke test covering all critical user journeys in production-like environment. Validates that core functionality works after deployment: user registration/login, product browsing, cart operations, payment processing, donation flow, admin access, and email delivery. Designed for quick validation (< 30 minutes) in CI/CD pipeline before production release. Acts as final gate before go-live decision. Target: 100% critical path success rate.",
    "category": "e2e",
    "priority": "Critical",
    "viewport": "1280x720",
    "networkCondition": "4g",
    "steps": [
      {"type": "action", "description": "Navigate to production URL https://maceazy.com"},
      {"type": "assertion", "description": "Verify homepage loads within 3 seconds"},
      {"type": "action", "description": "User Journey 1: Registration"},
      {"type": "action", "description": "Click 'Sign Up' and register new user"},
      {"type": "assertion", "description": "Verify email verification sent"},
      {"type": "action", "description": "User Journey 2: Product Purchase"},
      {"type": "action", "description": "Browse products, add to cart, checkout"},
      {"type": "assertion", "description": "Verify order created successfully"},
      {"type": "action", "description": "User Journey 3: Donation"},
      {"type": "action", "description": "Go to donate page, fill form, submit"},
      {"type": "assertion", "description": "Verify payment gateway opens"},
      {"type": "assertion", "description": "Verify donation recorded in database"},
      {"type": "action", "description": "User Journey 4: Admin Access"},
      {"type": "action", "description": "Login as admin, access dashboard"},
      {"type": "assertion", "description": "Verify dashboard loads with real-time stats"},
      {"type": "action", "description": "User Journey 5: Email Delivery"},
      {"type": "assertion", "description": "Verify receipt email delivered within 2 minutes"},
      {"type": "action", "description": "Check error rates"},
      {"type": "assertion", "description": "Verify < 0.1% error rate in last 24 hours"},
      {"type": "action", "description": "Validate database connectivity"},
      {"type": "assertion", "description": "Verify MongoDB connection healthy"},
      {"type": "action", "description": "Check CDN status"},
      {"type": "assertion", "description": "Verify CloudFront serving images correctly"},
      {"type": "action", "description": "Test API health endpoint /api/health"},
      {"type": "assertion", "description": "Verify 200 OK response with uptime > 99.9%"}
    ]
  }
]
